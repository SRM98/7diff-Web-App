
<div class="popUp">
  <h1>
    Créer un jeu point de vue libre
  </h1>
</div>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" >

        <h3>Nom du jeu</h3>

        <input  type="text" formControlName="gameName" class="form-control" [ngClass]="{ 'is-invalid': isFormSubmitted && form.gameName.errors }" onclick="this.focus()"/>
        <div *ngIf="isFormSubmitted && form.gameName.errors" class="invalid-feedback">
          <div *ngIf="form.gameName.errors.required" >Le nom du jeu est nécessaire.</div>
          <div *ngIf="form.gameName.errors.minlength">Le nom du jeu doit avoir au moins 4 caractères.</div>
          <div *ngIf="form.gameName.errors.maxlength">Le nom du jeu doit avoir moins de 12 caractères.</div>
        </div>

      <h3 >Type d'objets</h3 >
      <mat-form-field>
        <mat-select formControlName="objectType" class="form-control"[ngClass]="{ 'is-invalid': isFormSubmitted && form.objectType.errors }">
          <mat-option *ngFor="let type of types" [value]="type.value">
            {{type.viewValue}}   
          </mat-option>
        </mat-select>
      </mat-form-field>

        <h3> Quantité d'objets</h3>
      <input type="text" formControlName="objectNumber" class="form-control" [ngClass]="{ 'is-invalid': isFormSubmitted && form.objectNumber.errors }" onclick="this.focus()"/>
      <div *ngIf="isFormSubmitted && form.objectNumber.errors" class="invalid-feedback">
        <div *ngIf="form.objectNumber.errors.required" >Le nombre d'objets est nécessaire.</div>
        <div *ngIf="form.objectNumber.errors.max">Doit être inférieur à 200.</div>
        <div *ngIf="form.objectNumber.errors.min">Doit être supérieur à 10.</div>
        <div *ngIf="form.objectNumber.errors.pattern">Doit être uniquement des chiffres.</div>
      </div>

      <h3>Type de modifications</h3>
      <div class="modifications" *ngFor="let modification of modifications; let i = index"   >
         <mat-checkbox  [checked]="modification.checked" formControlName="modificationType" class="form-control"[ngClass]="{ 'is-invalid': isFormSubmitted && form.modificationType.errors }" (change)="OnChange($event,modification)" >{{modification.viewValue}}</mat-checkbox>
      </div>

      <div *ngIf="isFormSubmitted && form.modificationType.errors" class="invalid-feedback">
        <div *ngIf="form.modificationType.errors.required">Au moins une option doit être sélectionée</div>
      </div>

      <div class="buttonArea">
        <div class="form-group">
          <button [disabled]="loading" class="btn btn-primary" >Soumettre</button>
        </div>
        <div class="form-group">
          <button  type="button" id="button-test" class="btn btn-default" (click)="onNoClick()">Annuler</button>
        </div>
      </div>

    </form>
<div #container></div>
